<div class="contentForm">
   <div class="container">
      <div class="row">
         <div class="col-lg-6 col-md-6 col-sm-8 ml-auto mr-auto">
            <form #registeredform="ngForm" (ngSubmit)="registeredform.valid && registeration(registeredform)" novalidate>
               <div class="card card-login">
                  <div class="card-header text-center">
                     <h4 class="card-title">Registeration Form</h4>
                  </div>
                  <div class="card-body">
                     <div class="form-group">
                        <div class="input-group-prepend">First Name</div>
                        <mat-form-field class="example-full-width" appearance="fill">
                           <input class="form-control" matInput placeholder="First Name" name="firstname"
                              type="firstname" #firstname="ngModel" [(ngModel)]="registeredFormData.firstname" required>
                           <mat-error *ngIf="firstname.hasError('required')">First Name is required
                           </mat-error>
                        </mat-form-field>
                     </div>
                     <div class="form-group">
                        <div class="input-group-prepend">Last Name</div>
                        <mat-form-field class="example-full-width" appearance="fill">
                           <input class="form-control" matInput placeholder="Last Name" name="lastname"
                              type="lastname" #lastname="ngModel" [(ngModel)]="registeredFormData.lastname" required>
                           <mat-error *ngIf="lastname.hasError('required')">Last Name is required
                           </mat-error>
                        </mat-form-field>
                     </div>
                     <div class="form-group">
                        <div class="input-group-prepend">Email</div>
                        <mat-form-field class="example-full-width" appearance="fill">
                           <input class="form-control" matInput placeholder="Email" name="email" type="email" #email="ngModel" [(ngModel)]="registeredFormData.email" (blur)="!email.hasError('required') && !email.hasError('pattern') && verifyEmail()"
                              pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{1,4}$" required />
                           <mat-icon matSuffix  *ngIf="emailVerifying">
                              <mat-spinner [diameter]="18"></mat-spinner>
                           </mat-icon>
                           
                           <mat-error *ngIf="email.hasError('required')">Email is required</mat-error>
                           <mat-error *ngIf="email.hasError('pattern') && !email.hasError('required')">Please enter a valid email</mat-error>
                           <mat-hint *ngIf="!email.invalid && emailAlreadyRegistered">Email already registered, please choose new email address</mat-hint>
                        </mat-form-field>
                     </div>
                     <div class="form-group">
                        <div class="input-group-prepend">Password</div>
                        <mat-form-field class="example-full-width" appearance="fill">
                           <input class="form-control" matInput placeholder="Password" type="password"
                              #password="ngModel" [(ngModel)]="registeredFormData.password" name="password"
                              minlength="6" required>
                           <mat-error *ngIf="password.hasError('required')">Password is required
                           </mat-error>
                           <mat-error *ngIf="password.hasError('minlength')">Password must be 6 characters long
                           </mat-error>
                        </mat-form-field>
                     </div>

                     <div class="form-group">
                        <div class="input-group-prepend">Confirm Password</div>
                        <mat-form-field class="example-full-width" appearance="fill">
                           <input class="form-control" matInput placeholder="Confirm Password" type="password"
                              #confirmPassword="ngModel" [(ngModel)]="registeredFormData.confirmPassword"
                              name="confirmPassword" appConfirmEqualValidator="password" required>
                           <mat-error *ngIf="confirmPassword.hasError('required')">Confirm password
                              is required
                           </mat-error>
                           <mat-error
                              *ngIf="confirmPassword.hasError('notEqual') && !confirmPassword.hasError('required')">
                              Password and Confirm Password does not match</mat-error>
                        </mat-form-field>
                     </div>
                  </div>
                  <div class="card-footer justify-content-center form-group"><button class="btn btn-blue btn-md" [disabled]="submitting">Submit</button>
                  </div>
               </div>
            </form>
         </div>
      </div>
   </div>
</div>